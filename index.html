<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Parcel Box</title>

<script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>

<style>
body{
  background:#111;
  color:white;
  font-family:sans-serif;
  text-align:center;
  padding-top:80px;
}
button{
  font-size:32px;
  padding:30px 60px;
  border-radius:25px;
  border:none;
  background:#00ff99;
}
button:active{
  transform:scale(0.9);
}
</style>
</head>

<body>

<h1>üì¶ ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏û‡∏±‡∏™‡∏î‡∏∏</h1>
<p>‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏ù‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á</p>

<button onclick="openBox()">üîì ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πà‡∏≠‡∏á</button>

<p id="status">‚è≥ Connecting...</p>

<script>
const statusEl = document.getElementById("status");

const client = mqtt.connect(
  "wss://broker.hivemq.com:8000/mqtt"
);

client.on("connect", ()=>{
  statusEl.innerText = "‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô";
});

function openBox(){
  client.publish("parcel/open","OPEN");
  statusEl.innerText = "üì§ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß";
}
</script>

</body>
</html>
