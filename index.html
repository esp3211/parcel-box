<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Parcel Box</title>

<style>
body{
  background:#111;
  color:white;
  font-family:sans-serif;
  text-align:center;
  padding-top:80px;
}
button{
  font-size:32px;
  padding:30px 60px;
  border-radius:25px;
  border:none;
  background:#00ff99;
  cursor:pointer;
}
button:active{
  transform:scale(0.9);
}
#status{
  margin-top:30px;
  font-size:20px;
}
</style>
</head>

<body>

<h1>üì¶ ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏û‡∏±‡∏™‡∏î‡∏∏</h1>
<p>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏ù‡∏≤‡∏Å‡∏•‡πà‡∏≠‡∏á</p>

<button onclick="openBox()">üîì ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πà‡∏≠‡∏á</button>

<p id="status">‚è≥ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>

<script>
// ================== ‡πÅ‡∏Å‡πâ IP ESP ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ==================
const ESP_IP = "192.168.1.61"; // ‚Üê ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö ESP ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
// ======================================================

function openBox(){
  document.getElementById("status").innerText = "üì§ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß...";

  fetch(`http://${ESP_IP}/open`)
    .then(res=>{
      if(res.ok){
        document.getElementById("status").innerText = "‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß";
      }else{
        document.getElementById("status").innerText = "‚ùå ESP ‡πÑ‡∏°‡πà‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á";
      }
    })
    .catch(err=>{
      document.getElementById("status").innerText = "‚ùå ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ ESP ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ";
    });
}
</script>

</body>
</html>
