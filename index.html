<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Smart Parcel Box</title>

<script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>

<style>
body{
  background:#111;
  color:white;
  font-family:sans-serif;
  text-align:center;
  margin-top:80px;
}

h1{
  font-size:28px;
}

button{
  font-size:22px;
  padding:12px 25px;
  border:none;
  border-radius:8px;
  background:#00c853;
  color:white;
  cursor:pointer;
}

button:hover{
  background:#00e676;
}

#status{
  margin-top:30px;
  font-size:18px;
  color:#00e676;
}
</style>
</head>
<body>

<h1>üì¶ Smart Parcel Box</h1>

<button onclick="openBox()">üîì ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πà‡∏≠‡∏á</button>

<div id="status">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ MQTT...</div>

<script>

const client = mqtt.connect("wss://broker.hivemq.com:8884/mqtt");

client.on("connect", function () {
  document.getElementById("status").innerHTML = "‚úÖ ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ MQTT ‡πÅ‡∏•‡πâ‡∏ß";
});

client.on("error", function () {
  document.getElementById("status").innerHTML = "‚ùå MQTT Error";
});

function openBox() {

  client.publish("open", "test");

  document.getElementById("status").innerHTML =
    "üì° ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß...";
}

</script>

</body>
</html>
