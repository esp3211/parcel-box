<script>

// ğŸ”¹ à¸•à¹ˆà¸­ MQTT
const statusEl = document.getElementById("status");
const client = mqtt.connect("wss://broker.hivemq.com:8000/mqtt");

client.on("connect", ()=>{
    statusEl.innerText = "âœ… à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™";
});

// ğŸ”¹ à¸ªà¹ˆà¸‡à¹€à¸¥à¸‚à¹„à¸›à¹ƒà¸«à¹‰ ESP à¸•à¸£à¸§à¸ˆ
function checkParcel(){
    let input = document.getElementById("parcelCode").value.trim();

    if(input === ""){
        document.getElementById("result").innerHTML = "âš  à¸à¸£à¸¸à¸“à¸²à¸à¸£à¸­à¸à¹€à¸¥à¸‚à¸à¸±à¸ªà¸”à¸¸";
        return;
    }

    // à¸ªà¹ˆà¸‡à¹€à¸¥à¸‚à¹„à¸›à¸—à¸µà¹ˆ topic open
    client.publish("open", input);

    document.getElementById("result").innerHTML = 
    "ğŸ“¤ à¸ªà¹ˆà¸‡à¹€à¸¥à¸‚à¹„à¸›à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹à¸¥à¹‰à¸§...";
}

</script>
